<div class="container" *ngIf="concert">
    <div class="row mb-4">
        <div class="col-sm-4">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-text">{{concert.name}} </h3>
                </div>
                <div class="card-body">
                    <div class="row mb-1">
                        <div class="col-sm-12">
                            <div class="card-text">
                                {{concert.short_description}}
                            </div>
                        </div>
                    </div>
                    <hr/>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <ng-container *ngIf="acceptedRequestsByTheBand">
                <div class="row mb-4">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="margin-bottom-40">Accepted requests from Bands </h3>
                            </div>
                            <div class="card-body">
                                <div class="row mb-1">
                                    <div class="col-sm-4">
                                        Band Name
                                    </div>
                                    <div class="col-sm-4">
                                        Price
                                    </div>
                                </div>
                                <hr/>
                                <ng-container *ngFor="let request of acceptedRequestsByTheBand">
                                    <div class="row mb-1">
                                        <div class="col-sm-4">
                                            {{request.band.name}}
                                        </div>
                                        <div class="col-sm-4">
                                            {{request.band.price}} dkk
                                        </div>
                                        <div class="col-sm-4">
                                            <button class="btn btn-success" type="button"
                                                    (click)="confirmBandForConcert(request)"><i
                                                    class="fas fa-check"></i> Confirm Band
                                            </button>
                                        </div>
                                    </div>
                                    <hr/>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="band">
                <div class="row mb-4">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="margin-bottom-40">Confirmed band for the concert</h3>
                            </div>
                            <div class="card-body">
                                <div class="row mb-1">
                                    <div class="col-sm-12">
                                        <div class="card-text">
                                            {{band.name}}
                                        </div>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row mb-1">
                                    <div class="col-sm-12">
                                        <div class="card-text">
                                            {{band.short_description}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="acceptedRequestsByTheSpaceAdmin">
                <div class="row mb-4">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="margin-bottom-40">Accepted requests from admin Spaces </h3>
                            </div>
                            <div class="card-body">
                                <div class="row mb-1">
                                    <div class="col-sm-4">
                                        Space Name
                                    </div>
                                    <div class="col-sm-4">
                                        Price
                                    </div>
                                </div>
                                <hr/>
                                <ng-container *ngFor="let request of acceptedRequestsByTheSpaceAdmin">
                                    <div class="row mb-1">
                                        <div class="col-sm-4">
                                            {{request.space.name}}
                                        </div>
                                        <div class="col-sm-4">
                                            {{request.space.price ? request.space.price : 0}} dkk
                                        </div>
                                        <div class="col-sm-4">
                                            <button (click)="confirmSpaceForConcert(request)"
                                                    class="btn btn-success"><i class="fas fa-check"></i> Confirm Space
                                            </button>
                                        </div>
                                    </div>
                                    <hr/>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="space">
                <div class="row mb-4">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="margin-bottom-40">Confirmed band for the space</h3>
                            </div>
                            <div class="card-body">
                                <div class="row mb-1">
                                    <div class="col-sm-12">
                                        <div class="card-text">
                                            {{space.name}}
                                        </div>
                                    </div>
                                </div>
                                <hr/>
                                <div class="row mb-1">
                                    <div class="col-sm-12">
                                        <div class="card-text">
                                            {{space.description}}
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-1">
                                    <div class="col-sm-12">
                                        <agm-map [latitude]="latitude" [longitude]="longitude">
                                            <agm-marker [latitude]="latitude" [longitude]="longitude"></agm-marker>
                                        </agm-map>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="!concert.concert_public">
                <div class="row mb-4" *ngIf="!concert.band_id">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="margin-bottom-40"> Send Request to Band </h3>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12">
                                        <app-create-concert-requests [id]="concert.id"></app-create-concert-requests>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mb-4" *ngIf="!concert.space_id">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="margin-bottom-40"> Send Request to Space </h3>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12">
                                        <app-create-space-request [id]="concert.id"></app-create-space-request>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
</div>
